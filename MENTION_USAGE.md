# @ 提及功能使用指南

## 功能概述

全新的 @ 提及功能让您可以在输入框中快速引用各种资源，包括文件、工具和专家，提升 AI 对话的上下文准确性。

## 界面设计

参考了现代化的资源选择器设计，包含：

### 1. 搜索框
- 占位符：**搜索文件/工具/专家**
- 支持实时搜索过滤

### 2. 标签页切换
- **全部** - 显示所有资源
- **文件** - 仅显示文档和文件
- **工具** - 仅显示集成工具
- **专家** - 仅显示专家资源（待扩展）

### 3. 分组显示
- **收藏夹文件** - 常用文档
  - 开启你和AI共用的收藏夹.md
  - 技术架构设计文档
  - React 最佳实践
  
- **工具** - 集成的各类工具
  - 高德地图
  - 飞书云文档
  - 飞常准
  - 落兵台 API
  - GitHub

## 使用方法

### 触发 @ 菜单

1. 在输入框中输入 `@` 符号
2. 自动弹出资源选择菜单
3. 菜单会跟随光标位置显示

### 搜索资源

1. 在搜索框中输入关键词
2. 实时过滤匹配的资源
3. 支持标题和描述的模糊搜索

### 切换分类

1. 点击顶部的标签页（全部/文件/工具/专家）
2. 快速筛选特定类型的资源

### 选择资源

1. 点击任意资源项
2. 资源会被插入到输入框的 @ 位置
3. 选中的资源会以标签形式显示在输入框上方

### 管理已选资源

1. 已选资源显示为彩色标签
2. 点击标签上的 × 可以移除
3. 不同类型的资源有不同的颜色：
   - 🔵 文件 - 蓝色
   - 🟣 工具 - 紫色
   - 🟢 专家 - 绿色

## 集成位置

### 1. 首页 (HomePage)
- 主任务输入框
- 支持在创建任务时引用资源

### 2. 任务拆解页 (TaskDecomposePage)
- AI 对话输入框
- 支持在对话中引用资源

## 技术特性

- ✅ 实时搜索过滤
- ✅ 标签页分类
- ✅ 分组显示
- ✅ 资源标签管理
- ✅ 键盘快捷键支持
- ✅ 响应式设计
- ✅ 自动定位菜单

## 快捷键

- `@` - 触发资源选择菜单
- `Esc` - 关闭菜单
- `↑` `↓` - 在资源列表中导航
- `Enter` - 选择当前高亮的资源

## 后续扩展计划

- [ ] 连接真实的 MCP 服务器
- [ ] 集成飞书文档 API
- [ ] 集成落兵台 API
- [ ] 添加资源预览功能
- [ ] 支持拖拽排序
- [ ] 添加最近使用记录
- [ ] 支持自定义资源分组
